<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang='en'>
<!--<![endif]-->
<head>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<title>C2 Example: boxplot</title>
<meta content='width=device-width' name='viewport'>
<meta content='Keming Labs' name='author'>
<link href='style.css' rel='stylesheet'>
<link type="text/css" rel="stylesheet" href="../sticky.css"/>
</head>
<body>
<!--[if lt IE 7]> <p class=chromeframe><a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p> <![endif]-->
<div id='main' role='main'>
<div class='full'>
<h1>Boxplot</h1>
<div class='example-full'>
<svg id="main" style="display:block;margin:auto;height:400px;width:960px;"><style type="text/css"><![CDATA[
.box {fill: #222222; stroke: white; }
line {stroke: white;}
line.range {stroke-dasharray: 5,5;}
]]></style><g class="boxplot" transform="translate(0,0)"><g class="range"><line class="range" x1="10" x2="10" y1="140.27318" y2="77.42516" /><line x1="0" x2="20" y1="140.27318" y2="140.27318" /><line x1="0" x2="20" y1="77.42516" y2="77.42516" /></g><rect class="box" height="55.4730224609375" width="20" x="0" y="80.179504" /><line x1="0" x2="20" y1="101.94785" y2="101.94785" /></g><g class="boxplot" transform="translate(30,0)"><g class="range"><line class="range" x1="10" x2="10" y1="127.099724" y2="53.942886" /><line x1="0" x2="20" y1="127.099724" y2="127.099724" /><line x1="0" x2="20" y1="53.942886" y2="53.942886" /></g><rect class="box" height="60.5861930847168" width="20" x="0" y="63.95257" /><line x1="0" x2="20" y1="97.26507" y2="97.26507" /></g><g class="boxplot" transform="translate(60,0)"><g class="range"><line class="range" x1="10" x2="10" y1="319.0538" y2="239.033" /><line x1="0" x2="20" y1="319.0538" y2="319.0538" /><line x1="0" x2="20" y1="239.033" y2="239.033" /></g><rect class="box" height="52.742156982421875" width="20" x="0" y="241.8046" /><line x1="0" x2="20" y1="268.85236" y2="268.85236" /></g><g class="boxplot" transform="translate(90,0)"><g class="range"><line class="range" x1="10" x2="10" y1="266.31506" y2="77.257675" /><line x1="0" x2="20" y1="266.31506" y2="266.31506" /><line x1="0" x2="20" y1="77.257675" y2="77.257675" /></g><rect class="box" height="46.29655456542969" width="20" x="0" y="211.44786" /><line x1="0" x2="20" y1="249.44403" y2="249.44403" /></g><g class="boxplot" transform="translate(120,0)"><g class="range"><line class="range" x1="10" x2="10" y1="305.50345" y2="164.66481" /><line x1="0" x2="20" y1="305.50345" y2="305.50345" /><line x1="0" x2="20" y1="164.66481" y2="164.66481" /></g><rect class="box" height="70.48974609375" width="20" x="0" y="196.0664" /><line x1="0" x2="20" y1="260.157" y2="260.157" /></g><g class="boxplot" transform="translate(150,0)"><g class="range"><line class="range" x1="10" x2="10" y1="179.798" y2="135.45697" /><line x1="0" x2="20" y1="179.798" y2="179.798" /><line x1="0" x2="20" y1="135.45697" y2="135.45697" /></g><rect class="box" height="30.436599731445312" width="20" x="0" y="143.81372" /><line x1="0" x2="20" y1="146.28033" y2="146.28033" /></g><g class="boxplot" transform="translate(180,0)"><g class="range"><line class="range" x1="10" x2="10" y1="282.2639" y2="92.21439" /><line x1="0" x2="20" y1="282.2639" y2="282.2639" /><line x1="0" x2="20" y1="92.21439" y2="92.21439" /></g><rect class="box" height="40.04554748535156" width="20" x="0" y="134.97125" /><line x1="0" x2="20" y1="138.72716" y2="138.72716" /></g><g class="boxplot" transform="translate(210,0)"><g class="range"><line class="range" x1="10" x2="10" y1="269.52454" y2="100.219894" /><line x1="0" x2="20" y1="269.52454" y2="269.52454" /><line x1="0" x2="20" y1="100.219894" y2="100.219894" /></g><rect class="box" height="85.47341918945312" width="20" x="0" y="167.48708" /><line x1="0" x2="20" y1="226.93715" y2="226.93715" /></g><g class="boxplot" transform="translate(240,0)"><g class="range"><line class="range" x1="10" x2="10" y1="245.39738" y2="117.54457" /><line x1="0" x2="20" y1="245.39738" y2="245.39738" /><line x1="0" x2="20" y1="117.54457" y2="117.54457" /></g><rect class="box" height="89.54145812988281" width="20" x="0" y="149.85219" /><line x1="0" x2="20" y1="205.1468" y2="205.1468" /></g><g class="boxplot" transform="translate(270,0)"><g class="range"><line class="range" x1="10" x2="10" y1="246.20784" y2="18.929327" /><line x1="0" x2="20" y1="246.20784" y2="246.20784" /><line x1="0" x2="20" y1="18.929327" y2="18.929327" /></g><rect class="box" height="181.09272384643555" width="20" x="0" y="63.270023" /><line x1="0" x2="20" y1="64.116806" y2="64.116806" /></g><g class="boxplot" transform="translate(300,0)"><g class="range"><line class="range" x1="10" x2="10" y1="320.75156" y2="66.654594" /><line x1="0" x2="20" y1="320.75156" y2="320.75156" /><line x1="0" x2="20" y1="66.654594" y2="66.654594" /></g><rect class="box" height="183.01477813720703" width="20" x="0" y="71.96871" /><line x1="0" x2="20" y1="171.73495" y2="171.73495" /></g><g class="boxplot" transform="translate(330,0)"><g class="range"><line class="range" x1="10" x2="10" y1="145.22063" y2="43.00942" /><line x1="0" x2="20" y1="145.22063" y2="145.22063" /><line x1="0" x2="20" y1="43.00942" y2="43.00942" /></g><rect class="box" height="66.53389739990234" width="20" x="0" y="48.457054" /><line x1="0" x2="20" y1="93.656456" y2="93.656456" /></g><g class="boxplot" transform="translate(360,0)"><g class="range"><line class="range" x1="10" x2="10" y1="327.9591" y2="233.46555" /><line x1="0" x2="20" y1="327.9591" y2="327.9591" /><line x1="0" x2="20" y1="233.46555" y2="233.46555" /></g><rect class="box" height="67.81707763671875" width="20" x="0" y="246.54456" /><line x1="0" x2="20" y1="267.8191" y2="267.8191" /></g><g class="boxplot" transform="translate(390,0)"><g class="range"><line class="range" x1="10" x2="10" y1="291.5336" y2="56.11141" /><line x1="0" x2="20" y1="291.5336" y2="291.5336" /><line x1="0" x2="20" y1="56.11141" y2="56.11141" /></g><rect class="box" height="179.33860778808594" width="20" x="0" y="76.41666" /><line x1="0" x2="20" y1="97.86783" y2="97.86783" /></g><g class="boxplot" transform="translate(420,0)"><g class="range"><line class="range" x1="10" x2="10" y1="370.4229" y2="202.44392" /><line x1="0" x2="20" y1="370.4229" y2="370.4229" /><line x1="0" x2="20" y1="202.44392" y2="202.44392" /></g><rect class="box" height="70.57589721679688" width="20" x="0" y="271.76346" /><line x1="0" x2="20" y1="274.95343" y2="274.95343" /></g><g class="boxplot" transform="translate(450,0)"><g class="range"><line class="range" x1="10" x2="10" y1="356.8299" y2="83.54074" /><line x1="0" x2="20" y1="356.8299" y2="356.8299" /><line x1="0" x2="20" y1="83.54074" y2="83.54074" /></g><rect class="box" height="165.3061981201172" width="20" x="0" y="137.46516" /><line x1="0" x2="20" y1="215.71475" y2="215.71475" /></g><g class="boxplot" transform="translate(480,0)"><g class="range"><line class="range" x1="10" x2="10" y1="226.21532" y2="96.84795" /><line x1="0" x2="20" y1="226.21532" y2="226.21532" /><line x1="0" x2="20" y1="96.84795" y2="96.84795" /></g><rect class="box" height="84.88990783691406" width="20" x="0" y="109.278625" /><line x1="0" x2="20" y1="128.90292" y2="128.90292" /></g><g class="boxplot" transform="translate(510,0)"><g class="range"><line class="range" x1="10" x2="10" y1="308.9955" y2="97.577354" /><line x1="0" x2="20" y1="308.9955" y2="308.9955" /><line x1="0" x2="20" y1="97.577354" y2="97.577354" /></g><rect class="box" height="105.78709411621094" width="20" x="0" y="115.095764" /><line x1="0" x2="20" y1="176.53809" y2="176.53809" /></g><g class="boxplot" transform="translate(540,0)"><g class="range"><line class="range" x1="10" x2="10" y1="210.66092" y2="96.43466" /><line x1="0" x2="20" y1="210.66092" y2="210.66092" /><line x1="0" x2="20" y1="96.43466" y2="96.43466" /></g><rect class="box" height="88.7754135131836" width="20" x="0" y="96.555214" /><line x1="0" x2="20" y1="122.01057" y2="122.01057" /></g><g class="boxplot" transform="translate(570,0)"><g class="range"><line class="range" x1="10" x2="10" y1="347.92117" y2="233.02066" /><line x1="0" x2="20" y1="347.92117" y2="347.92117" /><line x1="0" x2="20" y1="233.02066" y2="233.02066" /></g><rect class="box" height="21.74688720703125" width="20" x="0" y="293.2479" /><line x1="0" x2="20" y1="306.2041" y2="306.2041" /></g><g class="boxplot" transform="translate(600,0)"><g class="range"><line class="range" x1="10" x2="10" y1="336.08658" y2="60.383286" /><line x1="0" x2="20" y1="336.08658" y2="336.08658" /><line x1="0" x2="20" y1="60.383286" y2="60.383286" /></g><rect class="box" height="173.4265365600586" width="20" x="0" y="93.30207" /><line x1="0" x2="20" y1="188.13641" y2="188.13641" /></g><g class="boxplot" transform="translate(630,0)"><g class="range"><line class="range" x1="10" x2="10" y1="322.46152" y2="131.78386" /><line x1="0" x2="20" y1="322.46152" y2="322.46152" /><line x1="0" x2="20" y1="131.78386" y2="131.78386" /></g><rect class="box" height="84.76724243164062" width="20" x="0" y="209.07819" /><line x1="0" x2="20" y1="236.59006" y2="236.59006" /></g><g class="boxplot" transform="translate(660,0)"><g class="range"><line class="range" x1="10" x2="10" y1="281.5211" y2="29.552948" /><line x1="0" x2="20" y1="281.5211" y2="281.5211" /><line x1="0" x2="20" y1="29.552948" y2="29.552948" /></g><rect class="box" height="113.24932861328125" width="20" x="0" y="94.81683" /><line x1="0" x2="20" y1="177.52412" y2="177.52412" /></g><g class="boxplot" transform="translate(690,0)"><g class="range"><line class="range" x1="10" x2="10" y1="282.86682" y2="180.93631" /><line x1="0" x2="20" y1="282.86682" y2="282.86682" /><line x1="0" x2="20" y1="180.93631" y2="180.93631" /></g><rect class="box" height="43.37841796875" width="20" x="0" y="200.92125" /><line x1="0" x2="20" y1="204.15184" y2="204.15184" /></g><g class="boxplot" transform="translate(720,0)"><g class="range"><line class="range" x1="10" x2="10" y1="230.91336" y2="63.0588" /><line x1="0" x2="20" y1="230.91336" y2="230.91336" /><line x1="0" x2="20" y1="63.0588" y2="63.0588" /></g><rect class="box" height="74.43748474121094" width="20" x="0" y="155.61816" /><line x1="0" x2="20" y1="174.92026" y2="174.92026" /></g><g class="boxplot" transform="translate(750,0)"><g class="range"><line class="range" x1="10" x2="10" y1="156.63527" y2="72.29488" /><line x1="0" x2="20" y1="156.63527" y2="156.63527" /><line x1="0" x2="20" y1="72.29488" y2="72.29488" /></g><rect class="box" height="76.31239318847656" width="20" x="0" y="76.13362" /><line x1="0" x2="20" y1="150.74129" y2="150.74129" /></g><g class="boxplot" transform="translate(780,0)"><g class="range"><line class="range" x1="10" x2="10" y1="303.64105" y2="79.850395" /><line x1="0" x2="20" y1="303.64105" y2="303.64105" /><line x1="0" x2="20" y1="79.850395" y2="79.850395" /></g><rect class="box" height="15.21209716796875" width="20" x="0" y="142.02296" /><line x1="0" x2="20" y1="148.16838" y2="148.16838" /></g><g class="boxplot" transform="translate(810,0)"><g class="range"><line class="range" x1="10" x2="10" y1="271.15482" y2="167.59952" /><line x1="0" x2="20" y1="271.15482" y2="271.15482" /><line x1="0" x2="20" y1="167.59952" y2="167.59952" /></g><rect class="box" height="77.15338134765625" width="20" x="0" y="188.43695" /><line x1="0" x2="20" y1="218.58577" y2="218.58577" /></g><g class="boxplot" transform="translate(840,0)"><g class="range"><line class="range" x1="10" x2="10" y1="286.2105" y2="179.99872" /><line x1="0" x2="20" y1="286.2105" y2="286.2105" /><line x1="0" x2="20" y1="179.99872" y2="179.99872" /></g><rect class="box" height="22.458648681640625" width="20" x="0" y="242.16034" /><line x1="0" x2="20" y1="258.47885" y2="258.47885" /></g><g class="boxplot" transform="translate(870,0)"><g class="range"><line class="range" x1="10" x2="10" y1="342.3152" y2="95.79561" /><line x1="0" x2="20" y1="342.3152" y2="342.3152" /><line x1="0" x2="20" y1="95.79561" y2="95.79561" /></g><rect class="box" height="136.53196716308594" width="20" x="0" y="167.66115" /><line x1="0" x2="20" y1="227.07332" y2="227.07332" /></g><g class="boxplot" transform="translate(900,0)"><g class="range"><line class="range" x1="10" x2="10" y1="369.9727" y2="57.33929" /><line x1="0" x2="20" y1="369.9727" y2="369.9727" /><line x1="0" x2="20" y1="57.33929" y2="57.33929" /></g><rect class="box" height="165.35692596435547" width="20" x="0" y="125.42051" /><line x1="0" x2="20" y1="149.16077" y2="149.16077" /></g><g class="boxplot" transform="translate(930,0)"><g class="range"><line class="range" x1="10" x2="10" y1="310.999" y2="54.56475" /><line x1="0" x2="20" y1="310.999" y2="310.999" /><line x1="0" x2="20" y1="54.56475" y2="54.56475" /></g><rect class="box" height="215.81153869628906" width="20" x="0" y="71.08577" /><line x1="0" x2="20" y1="265.12747" y2="265.12747" /></g></svg>
</div>
<div class='code'>
<div class="highlight"><pre><span class="p">(</span><span class="kd">ns </span><span class="nv">boxplot</span>&#x000A;  <span class="p">(</span><span class="ss">:use</span> <span class="p">[</span><span class="nv">c2.core</span> <span class="ss">:only</span> <span class="p">[</span><span class="nv">unify</span> <span class="nv">style</span><span class="p">]]</span>&#x000A;        <span class="p">[</span><span class="nv">c2.maths</span> <span class="ss">:only</span> <span class="p">[</span><span class="nv">sin</span> <span class="nv">cos</span> <span class="nv">Tau</span> <span class="nv">extent</span><span class="p">]]</span>&#x000A;        <span class="p">[</span><span class="nv">c2.util</span> <span class="ss">:only</span> <span class="p">[</span><span class="nv">half</span><span class="p">]]</span>&#x000A;        <span class="p">[</span><span class="nv">c2.svg</span> <span class="ss">:only</span> <span class="p">[</span><span class="nv">translate</span><span class="p">]]</span>&#x000A;        <span class="p">[</span><span class="nv">clojure.string</span> <span class="ss">:only</span> <span class="p">[</span><span class="nv">join</span><span class="p">]])</span>&#x000A;  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">c2.scale</span> <span class="ss">:as</span> <span class="nv">scale</span><span class="p">]))</span>&#x000A;&#x000A;<span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">height</span> <span class="mi">400</span>&#x000A;      <span class="nv">width</span> <span class="mi">960</span>&#x000A;      <span class="nv">group-width</span> <span class="mi">30</span>&#x000A;      <span class="nv">box-width</span> <span class="mi">20</span>&#x000A;      <span class="nv">data</span> <span class="p">(</span><span class="nf">repeatedly</span> <span class="p">(</span><span class="nb">/ </span><span class="nv">width</span> <span class="nv">group-width</span><span class="p">)</span>&#x000A;                      <span class="o">#</span><span class="p">(</span><span class="nb">into </span><span class="p">{}</span> <span class="p">(</span><span class="nb">map </span><span class="nv">vector</span>&#x000A;                                     <span class="p">[</span><span class="ss">:min</span> <span class="ss">:q5</span> <span class="ss">:q10</span> <span class="ss">:q25</span> <span class="ss">:median</span> <span class="ss">:q75</span> <span class="ss">:q90</span> <span class="ss">:q95</span> <span class="ss">:max</span><span class="p">]</span>&#x000A;                                     <span class="p">(</span><span class="nb">sort </span><span class="p">(</span><span class="nb">take </span><span class="mi">9</span> <span class="p">(</span><span class="nf">repeatedly</span> <span class="nv">rand</span><span class="p">))))))</span>&#x000A;      <span class="nv">s</span> <span class="p">(</span><span class="nf">scale/linear</span> <span class="ss">:domain</span> <span class="p">(</span><span class="nf">extent</span> <span class="p">(</span><span class="nf">flatten</span> <span class="p">(</span><span class="nb">map vals </span><span class="nv">data</span><span class="p">)))</span>&#x000A;                      <span class="c1">;;Note the range is [height, 0]; since in SVG the origin is at the top of the element.</span>&#x000A;                      <span class="ss">:range</span> <span class="p">[</span><span class="nv">height</span> <span class="mi">0</span><span class="p">])]</span>&#x000A;&#x000A;  <span class="p">(</span><span class="kd">defn </span><span class="nv">box-width-line</span> <span class="p">[</span><span class="nv">y-position</span><span class="p">]</span>&#x000A;    <span class="p">[</span><span class="ss">:line</span> <span class="p">{</span><span class="ss">:x1</span> <span class="mi">0</span> <span class="ss">:x2</span> <span class="nv">box-width</span>&#x000A;            <span class="ss">:y1</span> <span class="nv">y-position</span> <span class="ss">:y2</span> <span class="nv">y-position</span><span class="p">}])</span>&#x000A;&#x000A;  <span class="p">[</span><span class="ss">:svg#main</span> <span class="p">{</span><span class="ss">:style</span> <span class="p">(</span><span class="nf">style</span> <span class="p">{</span><span class="ss">:display</span> <span class="s">&quot;block&quot;</span>&#x000A;                             <span class="ss">:margin</span> <span class="s">&quot;auto&quot;</span>&#x000A;                             <span class="ss">:height</span> <span class="nv">height</span>&#x000A;                             <span class="ss">:width</span> <span class="nv">width</span><span class="p">})}</span>&#x000A;&#x000A;   <span class="p">[</span><span class="ss">:style</span> <span class="p">{</span><span class="ss">:type</span> <span class="s">&quot;text/css&quot;</span><span class="p">}</span>&#x000A;    <span class="p">(</span><span class="nb">join </span><span class="s">&quot;\n&quot;</span> <span class="p">[</span> <span class="s">&quot;&lt;![CDATA[&quot;</span>&#x000A;                 <span class="s">&quot;.box {fill: #222222; stroke: white; }&quot;</span>&#x000A;                 <span class="s">&quot;line {stroke: white;}&quot;</span>&#x000A;                 <span class="s">&quot;line.range {stroke-dasharray: 5,5;}&quot;</span>&#x000A;                 <span class="s">&quot;]]&gt;&quot;</span><span class="p">])]</span>&#x000A;&#x000A;   <span class="p">(</span><span class="nf">unify</span> <span class="p">(</span><span class="nf">map-indexed</span> <span class="nb">vector </span><span class="nv">data</span><span class="p">)</span>&#x000A;          <span class="p">(</span><span class="k">fn </span><span class="p">[[</span><span class="nv">idx</span> <span class="p">{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nb">min </span><span class="nv">q10</span> <span class="nv">q25</span> <span class="nv">median</span> <span class="nv">q75</span> <span class="nv">q90</span> <span class="nv">max</span><span class="p">]}]]</span>&#x000A;            <span class="p">[</span><span class="ss">:g.boxplot</span> <span class="p">{</span><span class="ss">:transform</span> <span class="p">(</span><span class="nf">translate</span> <span class="p">[(</span><span class="nb">* </span><span class="nv">idx</span> <span class="nv">group-width</span><span class="p">)</span> <span class="mi">0</span><span class="p">])}</span>&#x000A;&#x000A;             <span class="c1">;;line spanning the 10th and 90th percentile</span>&#x000A;             <span class="p">[</span><span class="ss">:g.range</span>&#x000A;              <span class="p">[</span><span class="ss">:line.range</span> <span class="p">{</span><span class="ss">:x1</span> <span class="p">(</span><span class="nf">half</span> <span class="nv">box-width</span><span class="p">)</span> <span class="ss">:x2</span> <span class="p">(</span><span class="nf">half</span> <span class="nv">box-width</span><span class="p">)</span>&#x000A;                      <span class="ss">:y1</span> <span class="p">(</span><span class="nf">s</span> <span class="nv">q10</span><span class="p">)</span> <span class="ss">:y2</span> <span class="p">(</span><span class="nf">s</span> <span class="nv">q90</span><span class="p">)}]</span>&#x000A;              <span class="p">(</span><span class="nf">box-width-line</span> <span class="p">(</span><span class="nf">s</span> <span class="nv">q10</span><span class="p">))</span>&#x000A;              <span class="p">(</span><span class="nf">box-width-line</span> <span class="p">(</span><span class="nf">s</span> <span class="nv">q90</span><span class="p">))]</span>&#x000A;&#x000A;             <span class="c1">;;box from the 25th to 75th percentile</span>&#x000A;             <span class="p">[</span><span class="ss">:rect.box</span> <span class="p">{</span><span class="ss">:x</span> <span class="mi">0</span> <span class="ss">:y</span> <span class="p">(</span><span class="nf">s</span> <span class="nv">q75</span><span class="p">)</span>&#x000A;                         <span class="ss">:height</span> <span class="p">(</span><span class="nb">- </span><span class="p">(</span><span class="nf">s</span> <span class="nv">q25</span><span class="p">)</span> <span class="p">(</span><span class="nf">s</span> <span class="nv">q75</span><span class="p">))</span> <span class="ss">:width</span> <span class="nv">box-width</span><span class="p">}]</span>&#x000A;&#x000A;             <span class="p">(</span><span class="nf">box-width-line</span> <span class="p">(</span><span class="nf">s</span> <span class="nv">median</span><span class="p">))]))])</span></pre>
</div>

</div>
</div>

</div>

<div style="z-index: 1; position: absolute; right: 10px; bottom: 10px; ">
<ul class="sticky">
  <li>
      <p style="color:black;">More complicated example, but same pattern. Lifted straight from <a target="_blank" href="http://keminglabs.com/c2/ex/boxplot/">c2 examples page</a>.</p>
  </li>
</ul>
</div>

</body>
</html>
